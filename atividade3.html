<!DOCTYPE html>
<html lang='pt-br'>

<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Fibonacci</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        main {
            height: 100vh;
            display: flex;
            align-items: center;
            flex-direction: column;
            justify-content: center;
        }

        main .resultado {
            display: flex;
            align-items: center;
            flex-direction: column;
        }
    </style>
</head>

<body>
    <main>
        <div class='resultado'>
            <strong class="menor"></strong>
            <strong class="maior"></strong>
            <strong class="mensal"></strong>
        </div>
    </main>

    <script>
        const dados = [
            {
                "dia": 1,
                "valor": 22174.1664
            },
            {
                "dia": 2,
                "valor": 24537.6698
            },
            {
                "dia": 3,
                "valor": 26139.6134
            },
            {
                "dia": 4,
                "valor": 0.0
            },
            {
                "dia": 5,
                "valor": 0.0
            },
            {
                "dia": 6,
                "valor": 26742.6612
            },
            {
                "dia": 7,
                "valor": 0.0
            },
            {
                "dia": 8,
                "valor": 42889.2258
            },
            {
                "dia": 9,
                "valor": 46251.174
            },
            {
                "dia": 10,
                "valor": 11191.4722
            },
            {
                "dia": 11,
                "valor": 0.0
            },
            {
                "dia": 12,
                "valor": 0.0
            },
            {
                "dia": 13,
                "valor": 3847.4823
            },
            {
                "dia": 14,
                "valor": 373.7838
            },
            {
                "dia": 15,
                "valor": 2659.7563
            },
            {
                "dia": 16,
                "valor": 48924.2448
            },
            {
                "dia": 17,
                "valor": 18419.2614
            },
            {
                "dia": 18,
                "valor": 0.0
            },
            {
                "dia": 19,
                "valor": 0.0
            },
            {
                "dia": 20,
                "valor": 35240.1826
            },
            {
                "dia": 21,
                "valor": 43829.1667
            },
            {
                "dia": 22,
                "valor": 18235.6852
            },
            {
                "dia": 23,
                "valor": 4355.0662
            },
            {
                "dia": 24,
                "valor": 13327.1025
            },
            {
                "dia": 25,
                "valor": 0.0
            },
            {
                "dia": 26,
                "valor": 0.0
            },
            {
                "dia": 27,
                "valor": 25681.8318
            },
            {
                "dia": 28,
                "valor": 1718.1221
            },
            {
                "dia": 29,
                "valor": 13220.495
            },
            {
                "dia": 30,
                "valor": 8414.61
            }
        ];

        const menor = document.querySelector('strong.menor');
        const maior = document.querySelector('strong.maior');
        const mensal = document.querySelector('strong.mensal');

        const totalMensal = dados.reduce(
            (valorAnterior, valorAtual) => valorAnterior + valorAtual.valor, 
            0
        );

        const qtdDiasNaoTrabalhados = dados.filter(item => {
            return item.valor == 0;
        }).length;

        const mediaMensal = totalMensal / (dados.length - qtdDiasNaoTrabalhados);
        let menorValor = 9999999999;
        let maiorValor = 0;
        let quantidadeDias = 0;

        dados.forEach(item => {
            if(item.valor > 0 && item.valor < menorValor) {
                menorValor = item.valor;
            }
            if(item.valor > maiorValor) {
                maiorValor = item.valor;
            }
            if(item.valor > mediaMensal) {
                quantidadeDias = quantidadeDias + 1;
            }
        });
        
        menor.innerHTML = 'O menor valor de faturamento ocorrido em um dia do mês é de: R$' + menorValor;
        maior.innerHTML = ' O maior valor de faturamento ocorrido em um dia do mês é de: R$' + maiorValor;
        mensal.innerHTML = 'Número de dias no mês em que o valor de faturamento diário foi superior à média mensal é de ' + quantidadeDias;
    </script>
</body>

</html>